<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>
  <title>The Split Brain Problem</title>
  <link href="https://data-life.github.io/css/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="https://data-life.github.io/css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/default.min.css">
<div id="particles-js"></div>
<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<script src="https://data-life.github.io/js/particles.js"></script>
</head>
<body>
  <ul id="slide-out" class="side-nav">
    <li><a href="https://data-life.github.io"><i class="mdi-action-home left"></i>Home<i class="mdi-hardware-keyboard-arrow-right right"></i></a></li>
    <li><a href="https://data-life.github.io/categories"><i class="mdi-action-perm-media left"></i>Categories<i class="mdi-hardware-keyboard-arrow-right right"></i></a></li>
    <li><a href="https://data-life.github.io/tags"><i class="mdi-action-loyalty left"></i>Tags<i class="mdi-hardware-keyboard-arrow-right right"></i></a></li>
  </ul>
  <div id="index-banner" class="parallax-container">
  <a data-activates="slide-out" class="btn-floating button-collapse" style="top: 5px; left: 5px;"><i class="mdi-navigation-menu"></i></a>
    <div class="section no-pad-bot">
      <div class="container">
        
        <h1 class="header center teal-text text-lighten-2">Something Pithy about Data</h1>
        <div class="row center">
          <h5 class="header col s12 light">Introduction to Big Data and all the stuff around it</h5>
        </div>
        <div class="row center">
        
        
        
        
        
          <a href="https://data-life.github.io/index.xml"><img src="https://data-life.github.io/images/feed-dreamstale27.png"></a><a href="https://data-life.github.io/visualization/"><img src="https://data-life.github.io/images/DataLife-Visualizationico.png"></a>
        </div>
      </div>
    </div>
</div>



<div class="container">
  <div class="section">

    <div class="row">
      <div class="col s12">
        <div class="card-panel">
          <h4>The Split Brain Problem</h4>
          <p>
          
            
              <a href="https://data-life.github.io/categories/elasticsearch/">Elasticsearch</a>
            
           
          </p>
          <p>

<h2 id="the-problem">The Problem</h2>

<p>Consider a two node cluster that contains one index with a replication factor of one. This means that each shard of data in the index resides on one node and is replicated to the other node. One of these nodes is elected the master of the cluster to handle administrative tasks and it holds the primary shard for the index. What happens when there is a break in communication between the two nodes for whatever reason? Both nodes will think that the other node has gone off line. In the case of the original master, it will carry on life as normal, trying to assign replica shards as soon as another node comes on line. In the case of the other node, it will now promote itself to be a master and promote its replica shards to be primary shards. Any requests that come in at this point will result in the shards diverging from each other. Once communication is restored or you decide to manually intervene, you now have two masters that both potentially have some of the most up to date information. This makes the resulting data set very difficult to deal with, if it&rsquo;s at all possible, without ingesting the data again.</p>

<h2 id="the-solution">The Solution</h2>

<p>The easiest solution is to have an odd number of nodes in your cluster. This ensures that if there is a break in communication between two groups of nodes (No matter the distribution of numbers), you will always have a quorum for who the true master is. While this method goes a long way towards ensuring the resilience</p>
</p>
          <p>4 Oct 2016
            
              
                <a href="https://data-life.github.io/tags/elasticsearch/">#Elasticsearch</a>
              
                <a href="https://data-life.github.io/tags/split-brain/">#Split Brain</a>
              
                <a href="https://data-life.github.io/tags/nodes/">#Nodes</a>
              
                <a href="https://data-life.github.io/tags/architecture/">#Architecture</a>
              
                <a href="https://data-life.github.io/tags/troubleshooting/">#Troubleshooting</a>
              
            
          </p>
          
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col s3 m1">
      
        <a class="btn-floating btn-large waves-effect waves-light" href="https://data-life.github.io/post/emr/predictableipforyourmaster/"><i class="mdi-navigation-arrow-back"></i></a>
      
      </div>
      <div class="col s6 m10 center">&nbsp</div>
      <div class="col s3 m1">
      
        <a class="btn-floating btn-large waves-effect waves-light" href="https://data-life.github.io/storage/splitbrain/"><i class="mdi-navigation-arrow-forward"></i></a>
      
      </div>
    </div>

  </div>
</div>

  <footer class="page-footer">
    <div class="footer-copyright">
      <div class="container">
      All rights reserved - 2019
      </div>
    </div>
  </footer>
  <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
  <script src="https://data-life.github.io/js/materialize.min.js"></script>
  <script src="https://data-life.github.io/js/init.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-82435011-1', 'auto');
    ga('send', 'pageview');
  </script>
  

  </body>
</html>

