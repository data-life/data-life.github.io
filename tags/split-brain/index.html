<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  	<meta property="og:title" content=" Split Brain &middot;  Something Pithy about Data" />
  	<meta property="og:site_name" content="Something Pithy about Data" />
  	<meta property="og:url" content="https://data-life.github.io/tags/split-brain/" />
    
    
    <meta property="og:type" content="website" />
    

  <title>
     Split Brain &middot;  Something Pithy about Data
  </title>

    <meta name="description" content="Experiences using AWS Big Data services" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="https://data-life.github.io/images/favicon.ico">
	  <link rel="apple-touch-icon" href="https://data-life.github.io/images/apple-touch-icon.png" />
    
    <link rel="stylesheet" type="text/css" href="https://data-life.github.io/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400|Inconsolata" />


    
      
          <link href="https://data-life.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Something Pithy about Data" />
      
      
        <link href="https://data-life.github.io/tags/split-brain/index.xml" rel="alternate" type="application/rss+xml" title="Split Brain &middot; Something Pithy about Data" />
      
    
    <meta name="generator" content="Hugo 0.56.3" />

    <link rel="canonical" href="https://data-life.github.io/tags/split-brain/" />

    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-82435011-1', 'auto');
      ga('send', 'pageview');

    </script>
    
<div id="particles-js"></div>
<script src="http://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<script src="https://data-life.github.io/js/particles.js"></script>   
</head>
<body class="nav-closed">

  


 <div class="site-wrapper">




	<header class="main-header tag-head no-cover">

    <nav class="main-nav overlay clearfix">
      
      
        
          <a class="menu-button icon-feed" href="https://data-life.github.io/tags/split-brain/index.xml">&nbsp;&nbsp;Subscribe</a>
        
      
    </nav>
    <div class="vertical">

        <div class="main-header-content inner">
            <h1 class="page-title">

              <a class="btn-bootstrap-2" href="#content">Something Pithy about Data</a>
          </h1>
        </div>
</div>
    <a class="scroll-down icon-arrow-left" href="#content"><span class="hidden">Scroll Down</span></a>
</header>

<main id="content" class="content" role="main">
    

	<div class="extra-pagination inner">
    <nav class="pagination" role="navigation">
	
	<span class="page-number">Page 1 of 1</span>
	
</nav>

	</div>

	
	   

<article class="post post">
    <header class="post-header">
        <h2 class="post-title"><a href="https://data-life.github.io/post/elasticsearch/splitbrain/">The Split Brain Problem</a></h2>
    </header>
    <section class="post-excerpt">
      <p>
          <section class="post-content">
            

<h2 id="the-problem">The Problem</h2>

<p>Consider a two node cluster that contains one index with a replication factor of one. This means that each shard of data in the index resides on one node and is replicated to the other node. One of these nodes is elected the master of the cluster to handle administrative tasks and it holds the primary shard for the index. What happens when there is a break in communication between the two nodes for whatever reason? Both nodes will think that the other node has gone off line. In the case of the original master, it will carry on life as normal, trying to assign replica shards as soon as another node comes on line. In the case of the other node, it will now promote itself to be a master and promote its replica shards to be primary shards. Any requests that come in at this point will result in the shards diverging from each other. Once communication is restored or you decide to manually intervene, you now have two masters that both potentially have some of the most up to date information. This makes the resulting data set very difficult to deal with, if it&rsquo;s at all possible, without ingesting the data again.</p>

<h2 id="the-solution">The Solution</h2>

<p>The easiest solution is to have an odd number of nodes in your cluster. This ensures that if there is a break in communication between two groups of nodes (No matter the distribution of numbers), you will always have a quorum for who the true master is. While this method goes a long way towards ensuring the resilience</p>

          </section>
      </p>
      
         
          <span class="post-tag small"><a href="https://data-life.github.io/tags/elasticsearch/">#Elasticsearch</a></span>
         
          <span class="post-tag small"><a href="https://data-life.github.io/tags/split-brain/">#Split Brain</a></span>
         
          <span class="post-tag small"><a href="https://data-life.github.io/tags/nodes/">#Nodes</a></span>
         
          <span class="post-tag small"><a href="https://data-life.github.io/tags/architecture/">#Architecture</a></span>
         
          <span class="post-tag small"><a href="https://data-life.github.io/tags/troubleshooting/">#Troubleshooting</a></span>
         

    </section>
    <footer class="post-meta">
        
        
            markdawe
        
        on
            
                <a href="https://data-life.github.io/tags/elasticsearch/">#Elasticsearch</a>,
            
                <a href="https://data-life.github.io/tags/split-brain/">#Split Brain</a>,
            
                <a href="https://data-life.github.io/tags/nodes/">#Nodes</a>,
            
                <a href="https://data-life.github.io/tags/architecture/">#Architecture</a>,
            
                <a href="https://data-life.github.io/tags/troubleshooting/">#Troubleshooting</a>,
            
        
        <time class="post-date" datetime="2016-10-04T12:03:44Z">
            4 Oct 2016
        </time>
    </footer>
</article>

	

	<nav class="pagination" role="navigation">
	
	<span class="page-number">Page 1 of 1</span>
	
</nav>

</main>



    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">Something Pithy about Data</a> All rights reserved - 2016</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="https://data-life.github.io/js/jquery.js"></script>
    <script type="text/javascript" src="https://data-life.github.io/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://data-life.github.io/js/index.js"></script>

</body>
</html>

